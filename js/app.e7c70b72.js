(function(){"use strict";var e={3792:function(e,t,a){var o=a(6848),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app",attrs:{id:"app"}},[e.activeModal?t("vModal",{on:{closeModal:e.closeModal,createOrganisation:e.createOrganisation}}):e._e(),e.activeModal?t("vShadow",{on:{closeModal:e.closeModal}}):e._e(),t("vTitle",{staticClass:"main-title",attrs:{vTitle:"Таблица организаций"}}),t("div",{staticClass:"top"},[t("v-search",{on:{updateSearchQuery:e.updateSearchQuery}}),t("vButton",{attrs:{btnText:"Добавить"},on:{openModal:e.openModal}})],1),t("vTable",{attrs:{name:e.name,director:e.director,telephone:e.telephone,organisations:e.organisations,searchQuery:e.searchQuery},on:{deleteRow:e.deleteRow}})],1)},n=[],s=(a(4114),function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-table"},[t("div",{staticClass:"v-table__header"},[t("p",{on:{click:function(t){return e.sortByName()}}},[e._v(" "+e._s(e.name)+" "),t("span",{staticClass:"material-icons"},[e._v(" south ")])]),t("p",{on:{click:function(t){return e.sortByDirector()}}},[e._v(" "+e._s(e.director)),t("span",{staticClass:"material-icons"},[e._v(" south ")])]),t("p",[e._v(e._s(e.telephone))]),t("p")]),t("div",{staticClass:"v-table__body"},e._l(e.filteredOrganisations,(function(a){return t("vTableRow",{key:a.id,attrs:{organisation:a},on:{deleteRow:e.deleteRow}})})),1),!e.searchQuery&&e.pages>1?t("div",{staticClass:"v-table__pagination"},e._l(e.pages,(function(a){return t("div",{key:a,staticClass:"page",class:{page__selected:a===e.pageNumber},on:{click:function(t){return e.pageClick(a)}}},[e._v(" "+e._s(a)+" ")])})),0):e._e(),e.localOrganisations.length&&!e.searchQuery&&e.pages>1?t("div",{staticClass:"v-table__arrows"},[t("div",{staticClass:"left-arrow",on:{click:function(t){return e.prevPage()}}},[t("span",{staticClass:"material-icons left"},[e._v(" south ")])]),t("div",[t("p",{staticClass:"page-number"},[e._v(" "+e._s(e.pageNumber)+" ")])]),t("div",{staticClass:"right-arrow",on:{click:function(t){return e.nextPage()}}},[t("span",{staticClass:"material-icons right"},[e._v(" south ")])])]):e._e()])}),i=[],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-table-row"},[t("div",{staticClass:"row row-name"},[e._v(e._s(e.organisation.name))]),t("div",{staticClass:"row row-director"},[e._v(e._s(e.organisation.director))]),t("div",{staticClass:"row row-telephone"},[e._v(e._s(e.organisation.telephone))]),t("div",{staticClass:"row row-close",on:{click:function(t){return e.deleteRow()}}},[t("img",{staticClass:"close",attrs:{src:e.deleteCross,alt:"close"}})])])},c=[],u={name:"vTableRow",data(){return{deleteCross:a(7190)}},props:{organisation:{type:Object,required:!0}},methods:{deleteRow(){this.$emit("deleteRow",this.organisation)}}},d=u,h=a(1656),p=(0,h.A)(d,l,c,!1,null,"b43df8d6",null),g=p.exports,v={name:"vTable",components:{vTableRow:g},props:{organisations:{type:Array,default:()=>[]},searchQuery:{type:String,default:""},name:{type:String},director:{type:String},telephone:{type:String}},data(){return{localOrganisations:[],organisationsPerPage:2,pageNumber:1}},created(){this.localOrganisations=[...this.organisations]},methods:{pageClick(e){this.pageNumber=e},sortByDirector(){this.localOrganisations.sort(((e,t)=>e.director.toLowerCase().localeCompare(t.director.toLowerCase())))},sortByName(){this.localOrganisations.sort(((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())))},nextPage(){this.pageNumber>=this.pages||this.pageNumber++},prevPage(){1!==this.pageNumber&&this.pageNumber--},deleteRow(e){const t=this.localOrganisations.findIndex((t=>t.id===e.id));-1!==t&&(this.localOrganisations.splice(t,1),0===this.localOrganisations.length&&this.pageNumber>1?this.pageNumber=-1:0===this.localOrganisations.length?this.pageNumber=1:this.pageNumber>this.pages&&(this.pageNumber=this.pages)),this.$emit("deleteRow",e)}},computed:{pages(){return Math.ceil(this.localOrganisations.length/2)},paginatedOrganisations(){let e=(this.pageNumber-1)*this.organisationsPerPage,t=e+this.organisationsPerPage;return this.localOrganisations.slice(e,t)},filteredOrganisations(){return this.searchQuery?this.organisations.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.director.toLowerCase().includes(this.searchQuery.toLowerCase())||e.telephone.includes(this.searchQuery))):this.paginatedOrganisations}},watch:{organisations(e){this.localOrganisations=[...e]}}},m=v,f=(0,h.A)(m,s,i,!1,null,"d6a2423e",null),b=f.exports,w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vSearch-block"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"v-search",attrs:{type:"search",placeholder:"Найти по ФИО"},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.updateSearchQuery]}})])},y=[],_={name:"vSearch",data(){return{searchQuery:""}},methods:{updateSearchQuery(){this.$emit("updateSearchQuery",this.searchQuery)}}},A=_,C=(0,h.A)(A,w,y,!1,null,"09c5041a",null),O=C.exports,M=function(){var e=this,t=e._self._c;return t("button",{staticClass:"v-btn",on:{click:function(t){e.openModal(),e.closeModal(),e.createOrganisation()}}},[e._v(" "+e._s(e.btnText)+" ")])},x=[],Q={name:"vButton",props:{btnText:{type:String,required:!0}},methods:{openModal(){this.$emit("openModal",!0)},closeModal(){this.$emit("closeModal",!1)},createOrganisation(){this.$emit("createOrganisation")}}},T=Q,N=(0,h.A)(T,M,x,!1,null,"add31bdc",null),k=N.exports,D=function(){var e=this,t=e._self._c;return t("form",{staticClass:"v-modal",on:{submit:function(e){e.preventDefault()}}},[t("vTitle",{staticClass:"modal-title",attrs:{vTitle:"Добавить организацию"}}),t("vInput",{attrs:{placeholder:"Название"},model:{value:e.orgName,callback:function(t){e.orgName=t},expression:"orgName"}}),t("vInput",{attrs:{placeholder:"Номер телефона"},model:{value:e.orgPhone,callback:function(t){e.orgPhone=t},expression:"orgPhone"}}),t("vInput",{attrs:{placeholder:"ФИО Директора"},model:{value:e.orgDir,callback:function(t){e.orgDir=t},expression:"orgDir"}}),t("div",{staticClass:"modal-btns"},[t("vButton",{attrs:{btnText:"Отмена"},on:{closeModal:e.closeModal}}),t("vButton",{attrs:{disabled:!(e.orgName&&e.orgPhone&&e.orgDir),btnText:"Ок"},on:{createOrganisation:e.createOrganisation}})],1)],1)},P=[],S=function(){var e=this,t=e._self._c;return t("input",{staticClass:"v-input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})},B=[],R={name:"vInput",props:{value:{type:String},placeholder:{type:String}}},I=R,E=(0,h.A)(I,S,B,!1,null,"0d169cbc",null),G=E.exports,Y=function(){var e=this,t=e._self._c;return t("h2",{staticClass:"v-title"},[e._v(e._s(e.vTitle))])},j=[],$={name:"vTitle",props:{vTitle:{type:String}}},U=$,L=(0,h.A)(U,Y,j,!1,null,"3e4f1f01",null),W=L.exports,F={name:"vModal",components:{vInput:G,vButton:k,vTitle:W},data(){return{orgName:"",orgPhone:"",orgDir:""}},methods:{closeModal(e){this.$emit("closeModal",e)},createOrganisation(){this.$emit("createOrganisation",{orgName:this.orgName,orgPhone:this.orgPhone,orgDir:this.orgDir})}}},K=F,Z=(0,h.A)(K,D,P,!1,null,"9621f8fa",null),q=Z.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-shadow",on:{click:function(t){return e.closeModal()}}})},V=[],H={name:"vShadow",methods:{closeModal(){this.$emit("closeModal",!1)}}},X=H,J=(0,h.A)(X,z,V,!1,null,"448b09c6",null),ee=J.exports,te={name:"App",components:{vTable:b,vSearch:O,vButton:k,vModal:q,vShadow:ee,vTitle:W},data(){return{name:"Название",director:"ФИО Директора",telephone:"Номер телефона",searchQuery:"",modalTitle:"Добавить организацию",activeModal:!1,organisations:[{id:1,name:"ООО 'ВЕКТОР'",director:"Иванов И.И.",telephone:"+7 000 123 45 67"},{id:2,name:"ИП Сидоров С.С.",director:"Сидоров С.С.",telephone:"+7 000 56 78 99"},{id:3,name:"ООО 'ЛАЙТ'",director:"Лайтов А.А.",telephone:"+7 000 321 48 77"},{id:4,name:"ИП Малинин М.М.",director:"Малинин М.М.",telephone:"+7 000 88 99 77"},{id:5,name:"ООО 'РОГА И КОПЫТА'",director:"Рогокопытов П.П.",telephone:"+7 000 441 98 17"}]}},methods:{updateSearchQuery(e){this.searchQuery=e},openModal(e){this.activeModal=e},closeModal(e){this.activeModal=e},createOrganisation(e){const t={id:this.organisations.length+1,name:e.orgName,director:e.orgDir,telephone:e.orgPhone},a=this.organisations.findIndex((t=>t.name===e.orgName));-1===a?(this.organisations.push(t),this.activeModal=!1):alert("Организация уже была добавлена")},deleteRow(e){const t=this.organisations.findIndex((t=>t.id===e.id));-1!==t&&this.organisations.splice(t,1)}}},ae=te,oe=(0,h.A)(ae,r,n,!1,null,null,null),re=oe.exports;o.Ay.config.productionTip=!1,new o.Ay({render:e=>e(re)}).$mount("#app")},7190:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVR4nO3ZTQqDMBAF4HeKPOkV2+MWbE9jKXUhRcQk8xeZt3Il8xFNZgiQyWQyV8odwORdBH41fGtpygPAAmB2xkxrDctaU3UKgOf6gjeAG+zDTQ2vnho8MZRCeGIojfDAUAthiaE2wgJjhtDEmCM0MG4ISYw7QgITBtGDCYdowYRF1GDCI85ghkEcYYZD7M0Q899zhEGteWWGW4lttp+T53DWlUt8Wtz5sSOMzVU52p2GwfDEFhsew4pzIiyGDYddOAw7TuwwGAq0He4YCvZObhgqNIDmGCp2sWYYi1a8aGMs54mihfEYioo0xnOyK1KYCONpkcBc5urtMpehmUwmg3D5AAklyc9YEtl/AAAAAElFTkSuQmCC"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],n=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,s=o[0],i=o[1],l=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(o);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunktable"]=self["webpackChunktable"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(3792)}));o=a.O(o)})();
//# sourceMappingURL=app.e7c70b72.js.map